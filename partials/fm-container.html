<div class="fm-container">
    <div class="fm-sidebar" ng-show="fmSettings.sidebar">
        <div class="fm-resizer" ng-mousedown="dragResizer(event)"></div>
        <div class="storage-sub-header">
            <i class="hdd fa fa-hdd-o"></i> Storage
        </div>
        <ul class="menu-folders-tree">
            <li ng-repeat="item in foldersTree.content | orderBy:'name'" ng-include="def.menuFoldersTree"></li>
        </ul>
    </div>
    <div class="fm-content" ng-switch="fmSettings.layoutView">

        <ul class="context-menu" ng-if="def.contextMenuState">
            <li ng-click="menu.paste(currentDir)" ng-class="{'disabled': def.disabledPaste}">
                <i class="fa fa-clipboard"></i> Paste
            </li>
            <li ng-click="menu.copy(currentDir.content)" ng-class="{'disabled': def.disabledMenuItem}">
                <i class="fa fa-files-o"></i> Copy
            </li>
            <li ng-click="menu.cut(currentDir.content)" ng-class="{'disabled': def.disabledMenuItem}">
                <i class="fa fa-scissors"></i> Cut
            </li>

            <li class="divider"></li>

            <li ng-click="menu.selectAll(currentDir.content)" ng-switch="def.allSelected">
                <span ng-switch-when="true">
                    <i class="fa fa-square-o"></i> Deselect all
                </span>
                <span ng-switch-when="false">
                    <i class="fa fa-check-square-o"></i> Select all
                </span>
            </li>

            <li ng-click="menu.rename(currentDir.content)" ng-class="{'disabled': def.disabledMenuItem}">
                <i class="fa fa-pencil"></i> Rename
            </li>

            <li class="divider"></li>

            <li ng-click="menu.compressed(currentDir.content)" ng-class="{'disabled': def.disabledMenuItem}">
                <i class="glyphicon glyphicon-compressed"></i> To archive
            </li>
            <li ng-click="menu.download(currentDir.content)" ng-class="{'disabled': def.disabledMenuItem}">
                <i class="fa fa-download"></i> Download
            </li>

            <li class="divider"></li>

            <li ng-click="menu.remove(currentDir.content)" ng-class="{'disabled': def.disabledMenuItem}">
                <i class="fa fa-trash-o"></i> Remove
            </li>
        </ul>

        <div class="fm-tile-layout" ng-switch-when="tile">

            <div class="tile-sub-header">
                <div class="td" ng-click="contextMenuBtn()">
                    <i class="fa fa-bars"></i>
                </div>

                <div class="td">
                    <span>Sort by:</span>

                    <div class="btn-group" uib-dropdown>
                        <button type="button" class="btn btn-default btn-sm" ng-click="sortOrder(def.selectedOption.option)">
                            <i class="fa {{def.reverse ? 'fa-sort-amount-desc' : 'fa-sort-amount-asc'}}"></i>
                        </button>
                        <button type="button" class="btn btn-default btn-sm dropdown-toggle" uib-dropdown-toggle>
                            {{def.selectedOption.name}}
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right">
                            <li ng-repeat="opt in def.sortOptions" ng-click="setSortOption(opt)">
                                <a name="{{opt.name}}">{{opt.name}} 
                                    <i ng-if="opt.option == def.selectedOption.option" class="fa fa-check"></i>
                                </a>
                            </li>
                        </ul>
                    </div>

                </div>
            </div>

            <fm-tile-layout></fm-tile-layout>
        </div>

        <div class="fm-table-layout" ng-switch-when="table">
            <fm-table-layout></fm-table-layout>
        </div>

    </div>
</div>